# User Guide: Order Cancellation and Payment Restrictions

## Order Cancellation

### How to Cancel an Order

#### From Order History
1. Navigate to **Order History** page
2. Find the order you want to cancel
3. Click the **"Cancel Order"** button
4. Read the confirmation dialog:
   - **Pending orders**: "Full refund will be processed"
   - **Preparing orders**: "50% refund as preparation has started"
5. Click **"OK"** to confirm or **"Cancel"** to keep the order
6. You'll see a success message with the refund amount

#### From Order Confirmation
1. Go to your order confirmation page
2. Click the **"Cancel Order"** button
3. Follow the same confirmation process
4. Refund will be processed automatically

### Refund Policy

#### Full Refund (100%)
- **When**: Order hasn't started preparing yet
- **Status**: Pending
- **Example**: Order placed but kitchen hasn't started cooking

#### Partial Refund (50%)
- **When**: Kitchen has started preparing your order
- **Status**: Preparing
- **Reason**: Covers preparation costs and reduces food waste

#### No Refund
- **When**: Order is ready for pickup or already completed
- **Status**: Ready or Completed
- **Reason**: Food is already prepared

### Cancellation Restrictions

#### Time Limit
- **Deadline**: At least **1 hour before pickup time**
- **Example**: If pickup is at 1:00 PM, you can cancel until 12:00 PM
- **Why**: Gives kitchen time to adjust preparation

#### Status Restrictions
- ‚úÖ Can cancel: Pending, Preparing
- ‚ùå Cannot cancel: Ready, Completed, Already Cancelled

### What Happens After Cancellation

1. **Order Status**: Changes to "Cancelled"
2. **Refund Amount**: Calculated and displayed
3. **Refund Status**: Set to "Pending"
4. **Notification**: You'll receive a confirmation
5. **Refund Processing**: Typically within 3-5 business days

### Viewing Cancelled Orders

In your Order History, cancelled orders show:
- ‚ùå **Cancelled** badge
- üí∞ **Refund amount**: ‚ÇπXX.XX (pending/processed)
- üìù **Cancellation reason**: Why it was cancelled
- üìÖ **Cancelled at**: When it was cancelled

---

## Cash-on-Pickup Payment

### What is Cash-on-Pickup?

Pay with cash when you collect your order at the canteen counter.

### Restrictions

#### ‚úÖ Allowed For
- **Snack items only**
- **Maximum 2 items**

#### ‚ùå Not Allowed For
- Non-snack items (meals, beverages, etc.)
- More than 2 snack items
- Mixed orders (snacks + meals)

### Why These Restrictions?

1. **Prevent Bulk Orders**: Limits large unpaid orders
2. **Reduce Food Waste**: Ensures commitment for larger orders
3. **Inventory Management**: Better planning for the canteen
4. **Payment Security**: Online payment for higher-value orders

### How It Works

#### Scenario 1: Valid Order ‚úÖ
**Cart**: 2x Samosa (Snacks)
- Cash-on-pickup: **Available**
- You can select this payment method
- Pay when you pick up your order

#### Scenario 2: Too Many Items ‚ùå
**Cart**: 3x Samosa (Snacks)
- Cash-on-pickup: **Disabled**
- Message: "Limited to maximum 2 snack items"
- **Solution**: 
  - Reduce quantity to 2, OR
  - Use online payment (card/wallet)

#### Scenario 3: Non-Snack Items ‚ùå
**Cart**: 1x Samosa + 1x Idli Sambar
- Cash-on-pickup: **Disabled**
- Message: "Only allowed for snack items"
- **Solution**: Use online payment

#### Scenario 4: Meal Order ‚ùå
**Cart**: 1x Veg Thali
- Cash-on-pickup: **Disabled**
- Message: "Only allowed for snack items"
- **Solution**: Use online payment

### Checkout Process

1. **Add items to cart**
2. **Go to checkout**
3. **System automatically checks** if cash-on-pickup is allowed
4. **If allowed**: Cash-on-pickup option is enabled
5. **If not allowed**: 
   - Option is grayed out
   - Alert message explains why
   - Use card or wallet instead

### Visual Indicators

#### Enabled (Green Light)
```
‚ö™ Cash on Pickup
```
- Option is clickable
- No restrictions apply

#### Disabled (Red Light)
```
‚ö™ Cash on Pickup (grayed out)
   Only available for snack items (max 2)
```
- Option is not clickable
- Helper text explains restriction
- Alert box shows detailed message

### Alternative Payment Methods

If cash-on-pickup is not available, use:

1. **Credit/Debit Card** (Simulated)
   - Instant payment
   - Secure transaction
   - Order confirmed immediately

2. **Digital Wallet** (Simulated)
   - Quick payment
   - No card needed
   - Instant confirmation

---

## Frequently Asked Questions

### Order Cancellation

**Q: Can I cancel my order anytime?**
A: No, you can only cancel up to 1 hour before your pickup time.

**Q: Will I get a full refund?**
A: It depends on the order status:
- Pending: 100% refund
- Preparing: 50% refund
- Ready/Completed: No refund

**Q: How long does the refund take?**
A: Refunds are typically processed within 3-5 business days.

**Q: Can I cancel a completed order?**
A: No, completed orders cannot be cancelled.

**Q: What if I cancel a preparing order?**
A: You'll receive 50% refund as the kitchen has already started preparation.

**Q: Where can I see my refund status?**
A: In your Order History, cancelled orders show the refund amount and status.

### Cash-on-Pickup

**Q: Why can't I use cash-on-pickup for my order?**
A: Cash-on-pickup is only available for snack items (maximum 2).

**Q: What counts as a snack item?**
A: Items in the "Snacks" category like samosas, pakoras, etc.

**Q: Can I order 2 samosas with cash-on-pickup?**
A: Yes! That's exactly the limit.

**Q: Can I order 1 samosa and 1 idli with cash-on-pickup?**
A: No, because idli is not a snack item.

**Q: What if I want to order 3 samosas?**
A: You'll need to use online payment (card or wallet).

**Q: Can I change my payment method after placing an order?**
A: No, payment method is locked when you place the order.

**Q: Is online payment safe?**
A: Yes, all payments are simulated for demonstration purposes in this app.

---

## Tips

### For Successful Orders

1. **Plan Ahead**: Order early to avoid rush hours
2. **Check Restrictions**: Know the cash-on-pickup limits
3. **Set Reminders**: Remember the 1-hour cancellation deadline
4. **Review Before Confirming**: Double-check your order and payment method

### For Cancellations

1. **Cancel Early**: Get full refund by cancelling before preparation starts
2. **Check Time**: Ensure you're within the 1-hour window
3. **Provide Reason**: Help us improve by explaining why you cancelled
4. **Track Refund**: Check your order history for refund status

### For Payment

1. **Know Your Items**: Check if they're snacks or meals
2. **Count Items**: Maximum 2 snacks for cash-on-pickup
3. **Have Backup**: Keep a card ready if cash-on-pickup isn't available
4. **Confirm Payment**: Verify payment method before placing order

---

## Need Help?

If you have questions or issues:

1. **Check Order History**: View all your orders and their status
2. **Read Messages**: System messages explain restrictions clearly
3. **Contact Support**: Reach out if you need assistance
4. **Review Policy**: Refer to this guide for detailed information

---

## Summary

### Order Cancellation
- ‚è∞ Cancel up to 1 hour before pickup
- üíØ 100% refund if pending
- 5Ô∏è‚É£0Ô∏è‚É£ 50% refund if preparing
- ‚ùå No refund if ready/completed

### Cash-on-Pickup
- üçü Snacks only
- 2Ô∏è‚É£ Maximum 2 items
- üí≥ Use online payment for other orders
- ‚úÖ System validates automatically

**Remember**: These policies help reduce food waste and ensure fair service for everyone! üå±
